(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/Pikachu.e5e40294.png"},38:function(e,t,a){e.exports=a(71)},43:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(20),o=a.n(r),l=(a(43),a(9)),i=a(8),c=a(3),u=a(4),m=a(6),d=a(5),h=a(1),p=a.n(h),g=a(7),f=function(e,t){return{type:"LOGGED_IN",userId:e,userName:t}},v=a(15),E=a.n(v),w=(a(65),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={likes:e.props.post.likes,userName:e.props.userName,userId:e.props.userId,isLiked:!1,showPost:!1,isUser:!1},e.handleLike=function(t,a){var s={postId:t,userId:e.props.userId,isLiked:e.state.isLiked};p.a.post("http://localhost:5000/post/like",s,{withCredentials:!0}).then((function(t){200===t.status?e.setState({likes:t.data.new,isLiked:t.data.isLiked}):203===t.status?alert("Post Not Available!"):(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))},e.handleDelete=function(t){p.a.get("http://localhost:5000/post/delete/".concat(t),{withCredentials:!0}).then((function(t){207===t.status?(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):200===t.status?(e.setState({showPost:!1}),alert("Post Deleted!")):(alert("Please Login to delete post!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.post._id;p.a.get("http://localhost:5000/postLike/".concat(t),{withCredentials:!0}).then((function(t){201===t.status||(t.data.isLiked&&e.setState({isLiked:!0}),t.data.isUser&&e.setState({isUser:!0}),e.setState({showPost:!0}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.post,a=this.state.isLiked?n.a.createElement("i",{className:"fas fa-heart"}):n.a.createElement("i",{className:"far fa-heart"}),s=this.state.isUser?n.a.createElement("button",{onClick:function(){return e.handleDelete(t._id)},className:"right waves-effect waves-light btn-small"},"Delete"):n.a.createElement("div",null),r=this.state.showPost?n.a.createElement("div",{className:"post card postcard",key:t._id},n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s2"},n.a.createElement("img",{src:E.a})),n.a.createElement("div",{className:"col s10"},n.a.createElement("span",{className:"card-title"},n.a.createElement(l.b,{to:{pathname:"/profile/".concat(t.userId)}},t.userName)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12"},n.a.createElement("p",{className:"right"},t.createdAt.slice(0,19)))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row post-body"},n.a.createElement("p",null,t.body)),n.a.createElement("hr",null),n.a.createElement("button",{onClick:function(){return e.handleLike(t._id,e.state.userID)},className:"waves-effect waves-light btn-small"},this.state.likes,"  ",a),s)):n.a.createElement("div",null);return n.a.createElement("div",null,r)}}]),a}(s.Component)),N=Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}}),(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(w),b=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={posts:[],userName:e.props.userName,userId:e.props.userId,message:"Loading..."},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/feed",{withCredentials:!0}).then((function(t){207===t.status?(alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):(e.setState({posts:t.data}),0===e.state.posts.length&&e.setState({message:"No Posts to show!"}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.posts,a=t.length?t.map((function(t){return n.a.createElement(N,{post:t,key:t._id,userName:e.state.userName,userId:e.state.userId})})):n.a.createElement("h4",null,this.state.message);return n.a.createElement("div",{className:""},a)}}]),a}(s.Component),I=(a(67),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userId:e.props.userId,userEmail:"",userName:e.props.userName,isLoggedIn:!0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/checkuser",{withCredentials:!0}).then((function(t){var a=t.data.isLoggedIn;e.setState({isLoggedIn:a,userId:t.data.userId,userEmail:t.data.userEmail,userName:t.data.userName}),a?e.props.loginUser(t.data.userId,t.data.userName):e.props.logoutUser()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.isLoggedIn?n.a.createElement("div",{className:"home"},n.a.createElement("h1",{className:"center"},"Welcome to SocioPage!"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l3 m7 s12"},n.a.createElement("div",{className:"card profilecard"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l6 m6 s6"},n.a.createElement("img",{src:E.a,style:{width:"100%",height:"100%"}})),n.a.createElement("div",{className:"col l6 m6 s6"},n.a.createElement("h4",null,n.a.createElement(l.b,{to:{pathname:"/profile/".concat(this.state.userId)}},this.state.userName)),n.a.createElement("p",null,this.state.userEmail),n.a.createElement(l.b,{to:"/addpost"},n.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light red"},n.a.createElement("i",{className:"material-icons"},"add"))))))),n.a.createElement("div",{className:"col l6 m12 s12"},n.a.createElement(b,{userId:this.state.userId,userName:this.state.userName})),n.a.createElement("div",{className:"col l3 m5 s12"},n.a.createElement("h4",null,"Search"),n.a.createElement("div",{className:"card"},n.a.createElement("p",null,"aaa"))))):n.a.createElement("h2",null,"Please Login/Signup to view the posts!");return n.a.createElement("div",null,e)}}]),a}(s.Component)),y=Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}}),(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(I);var U=Object(i.e)(Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId}}),(function(e){return{logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))((function(e){var t=e.isLoggedIn?n.a.createElement("div",null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/addpost"},"Add Post!")),n.a.createElement("li",null,n.a.createElement(l.b,{to:"/followpage"},"Follow")),n.a.createElement("li",null,n.a.createElement(l.b,{to:{pathname:"/profile/".concat(e.userId)}},"Profile")),n.a.createElement("li",null,n.a.createElement("a",{onClick:function(){return function(e){p.a.get("http://localhost:5000/logout",{withCredentials:!0}).then((function(t){200===t.status?(alert("Successfully Logged Out!"),e.logoutUser(),e.history.push({pathname:"/login"})):(alert("Something went wrong!"),window.location.reload(!0))})).catch((function(e){return console.log(e)}))}(e)}},"Logout"))):n.a.createElement("div",null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/login"},"Login")),n.a.createElement("li",null,n.a.createElement(l.b,{to:"/signup"},"Signup")));return n.a.createElement("div",null,n.a.createElement("nav",null,n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement(l.b,{to:"/",className:"brand-logo"},"SocioPage"),n.a.createElement("ul",{id:"nav-mobile",className:"right"},t))))}))),L=a(17),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(L.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};p.a.post(" http://localhost:5000/login",a,{withCredentials:!0}).then((function(t){if(203===t.status)alert("Some error occured. Please refresh the page."),window.location.reload(!0);else if(202===t.status)alert("Input Data Incorrect!"),window.location.reload(!0);else if(200===t.status){var a=t.data.userId,s=t.data.userName;e.props.loginUser(a,s),e.props.history.push({pathname:"/profile/".concat(a)})}})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.isLoggedIn){var t=this.props.userId;this.props.history.push({pathname:"/profile/".concat(t)})}else p.a.get("http://localhost:5000/checkuser",{withCredentials:!0}).then((function(t){t.data.isLoggedIn&&(e.props.loginUser(t.data.userId,t.data.userName),e.props.history.push({pathname:"/profile/".concat(t.data.userId)}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"center"},"Login"),n.a.createElement("div",{className:"col s4"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("label",{htmlFor:"email"},"Email: "),n.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange,required:!0}))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("label",{htmlFor:"password"},"Password: "),n.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange,required:!0}))),n.a.createElement("div",{className:"container center"},n.a.createElement("button",{className:"waves-effect waves-light btn"},"Login")))))}}]),a}(s.Component),k=Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId}}),(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(O),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={email:"",userName:"",password:"",confirmPassword:""},e.handleChange=function(t){e.setState(Object(L.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,userName:e.state.userName,password:e.state.password,confirmPassword:e.state.confirmPassword,followers:[],following:[],followersCount:0,followingCount:0};p.a.post("http://localhost:5000/signup",a,{withCredentials:!0}).then((function(t){201===t.status?(alert("User Already LoggedIn. Redirecting to Profile."),e.props.history.push({pathname:"/profile/".concat(t.data.userId)})):"Successfull Signup!"===t.data?e.props.history.push("/"):alert(t.data)})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/checkuser",{withCredentials:!0}).then((function(t){t.data.isLoggedIn&&(e.props.loginUser(t.data.userId,t.data.userName),e.props.history.push({pathname:"/profile/".concat(t.data.userId)}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"center"},"Signup"),n.a.createElement("form",{className:"col s4 center",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("label",{htmlFor:"email"},"Email: "),n.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange,className:"validate",required:!0}))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("label",{htmlFor:"userName"},"User Name: "),n.a.createElement("input",{type:"text",id:"userName",onChange:this.handleChange,className:"validate",required:!0}))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange,className:"validate",required:!0}),n.a.createElement("label",{htmlFor:"password"},"Password: "))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password: "),n.a.createElement("input",{type:"password",id:"confirmPassword",onChange:this.handleChange,className:"validate",required:!0}))),n.a.createElement("div",{className:"container center"},n.a.createElement("button",{className:"waves-effect waves-light btn"},"Signup"))))}}]),a}(s.Component),j=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userId:e.props.userId,userName:e.props.userName,thisPageUserId:e.props.thisPageUserId,posts:[],isLoggedIn:!0,message:"Loading..."},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/post/".concat(this.state.thisPageUserId),{withCredentials:!0}).then((function(t){207===t.status?(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):200===t.status?(e.setState({posts:t.data}),0===e.state.posts.length&&e.setState({message:"No Posts"})):e.setState({isLoggedIn:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.posts,a=t.length?t.map((function(t){return n.a.createElement(N,{post:t,key:t._id,userName:e.state.userName,userId:e.state.userId})})):n.a.createElement("h4",{className:"center"},this.state.message),s=this.state.isLoggedIn?n.a.createElement("div",null,n.a.createElement("h3",{className:"center"},"Your Posts"),n.a.createElement("div",{className:"container"},a)):n.a.createElement("div",null,n.a.createElement("h4",{className:"center"},"Please Login!"));return n.a.createElement("div",null,s)}}]),a}(s.Component),P=Object(g.b)((function(e){return{userId:e.userId,userName:e.userName}}))(j),S=(a(68),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={buttonText:"Wait...",isDisable:!0},e.handleFollowUnFollow=function(){if(e.setState({isDisable:!0}),"Follow"===e.state.buttonText){var t={followUserId:e.props.user.userId,followUserName:e.props.user.userName};p.a.post("http://localhost:5000/follow",t,{withCredentials:!0}).then((function(t){200===t.status?e.setState({buttonText:"Following",isDisable:!1}):(alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))}else{var a={unFollowUserId:e.props.user.userId,unFollowUserName:e.props.user.userName};p.a.post("http://localhost:5000/unfollow",a,{withCredentials:!0}).then((function(t){200===t.status?e.setState({buttonText:"Follow",isDisable:!1}):(alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.userId;p.a.get("http://localhost:5000/checkfollowstatus/".concat(t),{withCredentials:!0}).then((function(a){207===a.status?(alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):t===e.props.userId?e.setState({buttonText:"Follow",isDisable:!0}):a.data.isFollowing?e.setState({buttonText:"Following",isDisable:!1}):e.setState({buttonText:"Follow",isDisable:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.user;return n.a.createElement("div",{className:"post card followeringCard"},n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l4 m4 s12"},n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:E.a}))),n.a.createElement("div",{className:"col l8 m8 s12"},n.a.createElement(l.b,{to:{pathname:"/profile/".concat(this.props.user.userId)}},n.a.createElement("span",{className:"card-title"},e.userName)))),n.a.createElement("div",{className:"btn-container"},n.a.createElement("button",{onClick:this.handleFollowUnFollow,disabled:this.state.isDisable,className:"waves-effect waves-light btn-small"},this.state.buttonText))))}}]),a}(s.Component)),D=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={followerUsers:[],thisPageUserId:e.props.thisPageUserId,userId:e.props.userId,userName:e.props.userName,isLoggedIn:!0,message:"Loading..."},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.thisPageUserId;p.a.get("http://localhost:5000/follower/".concat(t),{withCredentials:!0}).then((function(t){207===t.status?(e.props.logoutUser(),e.props.history.push({pathname:"/login"})):200===t.status&&(e.setState({followerUsers:t.data.followerUsers,isLoggedIn:!0}),0===e.state.followerUsers.length&&e.setState({message:"No Followers"}))}))}},{key:"render",value:function(){var e=this,t=this.state.followerUsers,a=t.length?t.map((function(t){return n.a.createElement("div",{className:"col xl6 l12 m6 s12"},n.a.createElement(S,{user:t,key:t.userId,userId:e.state.userId}))})):n.a.createElement("div",null,n.a.createElement("h4",null,this.state.message)),s=this.state.isLoggedIn?n.a.createElement("div",null,a):n.a.createElement("div",null,n.a.createElement("h4",null,"Please Login/Signup to view people!"));return n.a.createElement("div",null,n.a.createElement("h4",{className:"center"},"Followers ",this.state.userName),n.a.createElement("div",{className:"row"},s))}}]),a}(s.Component),F=Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}}),(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(D),T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={followingUsers:[],thisPageUserId:e.props.thisPageUserId,userId:e.props.userId,userName:e.props.userName,isLoggedIn:!0,message:"Loading..."},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.thisPageUserId;p.a.get("http://localhost:5000/following/".concat(t),{withCredentials:!0}).then((function(t){207===t.status?(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):200===t.status?(e.setState({followingUsers:t.data.followingUsers,isLoggedIn:!0}),0===e.state.followingUsers.length&&e.setState({message:"No Following"})):alert("Some error occured! Please refresh the page.")}))}},{key:"render",value:function(){var e=this,t=this.state.followingUsers,a=t.length?t.map((function(t){return n.a.createElement("div",{className:"col xl6 l12 m6 s12"},n.a.createElement(S,{user:t,key:t.userId,userId:e.state.userId}))})):n.a.createElement("div",null,n.a.createElement("h4",null,this.state.message)),s=this.state.isLoggedIn?n.a.createElement("div",null,a):n.a.createElement("div",null,n.a.createElement("h4",null,"Please Login/Signup to view people!"));return n.a.createElement("div",null,n.a.createElement("h4",{className:"center"},"Following ",this.state.userName),n.a.createElement("div",{className:"row"},s))}}]),a}(s.Component),G=Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId,userName:e.userName}}),(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(T),x=(a(69),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userId:"",userName:"",thisPageUserId:"",thisPageUserName:"",thisPageEmail:"",followersCount:0,followingCount:0,isThisUser:!1,followersButton:!1,followingButton:!1,showPostButton:!1},e.getData=function(){var t=e.props.history.location.pathname.slice(9);p.a.get("http://localhost:5000/user/".concat(t),{withCredentials:!0}).then((function(t){207===t.status?(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):200===t.status?(e.setState({userId:t.data.userId,userName:t.data.userName,thisPageUserId:e.props.history.location.pathname.slice(9),thisPageUserName:t.data.thisPageUserName,thisPageEmail:t.data.thisPageEmail,followersCount:t.data.followersCount,followingCount:t.data.followingCount,followersButton:!1,followingButton:!1,showPostButton:!0}),e.state.userId===e.state.thisPageUserId?(e.setState({isThisUser:!0}),e.props.loginUser(e.state.userId,e.state.userName)):e.setState({isThisUser:!1})):e.props.history.push({pathname:"/login"})})).catch((function(e){return console.log(e)}))},e.handleEdit=function(){},e.handleFollowers=function(){!0===e.state.followersButton?e.setState({followersButton:!1}):e.setState({followersButton:!0,followingButton:!1})},e.handleFollowing=function(){!0===e.state.followingButton?e.setState({followingButton:!1}):e.setState({followersButton:!1,followingButton:!0})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.state.thisPageUserId!==this.props.history.location.pathname.slice(9)&&this.getData()}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.thisPageUserId,t=this.state.isThisUser?n.a.createElement("div",null,n.a.createElement("button",{onClick:this.handleEdit,className:"waves-effect waves-light btn"},"Edit")):n.a.createElement("div",null),a=this.state.followersButton?n.a.createElement("div",null,n.a.createElement(F,{thisPageUserId:e})):n.a.createElement("div",null),s=this.state.followingButton?n.a.createElement("div",null,n.a.createElement(G,{thisPageUserId:e})):n.a.createElement("div",null),r=this.state.showPostButton?n.a.createElement("div",null,n.a.createElement(P,{thisPageUserId:e})):n.a.createElement("div",null);return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"profile"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l6 m12 s12"},n.a.createElement("h3",{className:"center"},"Profile"),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l6 m12 s12"},n.a.createElement("div",{className:"profileimage"},n.a.createElement("img",{src:E.a}))),n.a.createElement("div",{className:"col l6 m12 s12"},n.a.createElement("div",{className:"info"},n.a.createElement("h4",null,this.state.thisPageUserName),n.a.createElement("h4",null,this.state.thisPageEmail),t)))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"profile-btn-container"},n.a.createElement("button",{onClick:this.handleFollowers,className:"waves-effect waves-light btn"},this.state.followersCount," Followers"),n.a.createElement("button",{onClick:this.handleFollowing,className:"waves-effect waves-light btn"},this.state.followingCount," Following"))),a,s),n.a.createElement("div",{className:"col l6 m12 s12"},r))))}}]),a}(s.Component)),_=Object(g.b)(null,(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(x),B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userName:"",body:"",likes:0,isLoggedIn:!1,userId:""},e.handleBody=function(t){e.setState({body:t.target.value})},e.handlePost=function(t){t.preventDefault();var a={body:e.state.body,likes:e.state.likes,userName:e.state.userName,userId:e.state.userId,likedUserIds:[]};p.a.post("http://localhost:5000/addpost",a,{withCredentials:!0}).then((function(t){207===t.status||e.props.history.push({pathname:"/"})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/checkuser",{withCredentials:!0}).then((function(t){var a=t.data.isLoggedIn;e.setState({isLoggedIn:a,userName:t.data.userName,userId:t.data.userId}),a?e.props.loginUser(t.data.userId,t.data.userName):(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.isLoggedIn?n.a.createElement("div",null,n.a.createElement("h1",{className:"center"},this.state.userName," you can add your post here!"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("label",{htmlFor:"post"},"Post: "),n.a.createElement("textarea",{onChange:this.handleBody,className:"materialize-textarea",id:"post","data-length":"120",required:!0}),n.a.createElement("button",{onClick:this.handlePost,className:"waves-effect waves-light btn"},"Post!")))):n.a.createElement("div",null);return n.a.createElement("div",{className:"container"},e)}}]),a}(s.Component),A=Object(g.b)(null,(function(e){return{loginUser:function(t,a){return e(f(t,a))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(B),Y=(a(70),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={buttonText:"Follow",isDisable:!1},e.handleFollowUnFollow=function(){if(e.setState({isDisable:!0}),"Follow"===e.state.buttonText){var t={followUserId:e.props.user._id,followUserName:e.props.user.userName};p.a.post("http://localhost:5000/follow",t,{withCredentials:!0}).then((function(t){200===t.status?e.setState({buttonText:"Following",isDisable:!1}):(alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))}else{var a={unFollowUserId:e.props.user._id,unFollowUserName:e.props.user.userName};p.a.post("http://localhost:5000/unfollow",a,{withCredentials:!0}).then((function(t){200===t.status?e.setState({buttonText:"Follow",isDisable:!1}):(alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"}))})).catch((function(e){return console.log(e)}))}},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.user;return n.a.createElement("div",{className:"post card followcard"},n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l4 m4 s12"},n.a.createElement("img",{src:E.a})),n.a.createElement("div",{className:"col l8 m8 s12"},n.a.createElement(l.b,{to:{pathname:"/profile/".concat(this.props.user.userId)}},n.a.createElement("span",{className:"card-title"},e.userName)))),n.a.createElement("div",{className:"btn-container"},n.a.createElement("button",{onClick:this.handleFollowUnFollow,disabled:this.state.isDisable,className:"waves-effect waves-light btn-small"},this.state.buttonText))))}}]),a}(s.Component)),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={users:[],userId:e.props.userId,userName:e.props.userName,isLoggedIn:!0,message:"Loading..."},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/followpage",{withCredentials:!0}).then((function(t){207===t.status?(e.props.logoutUser(),alert("You are not LoggedIn!"),e.props.history.push({pathname:"/login"})):200===t.status?(e.props.loginUser(t.data.userId,t.data.userName),e.setState({users:t.data.users,isLoggedIn:!0}),0===e.state.users.length&&e.setState({message:"No Follow Suggestion!"})):alert("Some error occured! Please refresh the page.")}))}},{key:"render",value:function(){var e=this.state.users,t=e.length?e.map((function(e){return n.a.createElement("div",{className:"col l4 m6 s6",key:e._id},n.a.createElement(Y,{user:e,key:e._id}))})):n.a.createElement("div",null,n.a.createElement("h4",null,this.state.message)),a=this.state.isLoggedIn?n.a.createElement("div",null,t):n.a.createElement("div",null,n.a.createElement("h4",null,"Please Login/Signup to follow people!"));return n.a.createElement("div",null,n.a.createElement("h4",{className:"center",style:{padding:"20px"}},"Follow Suggestion!"),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},a)))}}]),a}(s.Component),q=Object(g.b)((function(e){return{isLoggedIn:e.isLoggedIn,userId:e.userId}}),(function(e){return{loginUser:function(t){return e(f(t))},logoutUser:function(){return e({type:"LOGGED_OUT"})}}}))(M);var W=function(){return n.a.createElement(l.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(U,null),n.a.createElement(i.a,{exact:!0,path:"/",component:y}),n.a.createElement(i.a,{path:"/login",component:k}),n.a.createElement(i.a,{path:"/signup",component:C}),n.a.createElement(i.a,{path:"/profile/:userId",component:_}),n.a.createElement(i.a,{path:"/addpost",component:A}),n.a.createElement(i.a,{path:"/followpage",component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(22),z=a(19),R={isLoggedIn:!1,userId:"",userNAme:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_OUT":return Object(z.a)(Object(z.a)({},e),{},{isLoggedIn:!1,userId:"",userName:""});case"LOGGED_IN":return Object(z.a)(Object(z.a)({},e),{},{isLoggedIn:!0,userId:t.userId,userName:t.userName});default:return e}},H=Object(J.b)($);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g.a,{store:H},n.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.0290c39c.chunk.js.map